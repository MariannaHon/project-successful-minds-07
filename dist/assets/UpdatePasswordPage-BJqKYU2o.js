import{r as P,u as z,c as B,a as N,b as R,j as d,F as U,d as A,e as k,E as C,f as S}from"./index-8KmicMRg.js";const O="_formContainer_m5y6o_1",V="_label_m5y6o_15",L="_input_m5y6o_25",Q="_error_m5y6o_43",D="_wrap_m5y6o_67",W="_errorMessage_m5y6o_75",G="_submitButton_m5y6o_87",H="_valid_m5y6o_131",J="_invalid_m5y6o_141",K="_short_m5y6o_143",X="_long_m5y6o_145",Y="_required_m5y6o_147",Z="_mismatch_m5y6o_149",i={formContainer:O,label:V,input:L,error:Q,wrap:D,errorMessage:W,submitButton:G,valid:H,invalid:J,short:K,long:X,required:Y,mismatch:Z},b=s=>typeof s=="number"&&!isNaN(s),p=s=>typeof s=="string",$=s=>typeof s=="function",ss=s=>P.isValidElement(s)||p(s)||$(s)||b(s),c=new Map;let v=[];const E=new Set,q=()=>c.size>0;function ns(s,n){var e;if(n)return!((e=c.get(n))==null||!e.isToastActive(s));let r=!1;return c.forEach(o=>{o.isToastActive(s)&&(r=!0)}),r}function os(s,n){ss(s)&&(q()||v.push({content:s,options:n}),c.forEach(e=>{e.buildToast(s,n)}))}function T(s,n){c.forEach(e=>{n!=null&&n!=null&&n.containerId?(n==null?void 0:n.containerId)===e.id&&e.toggle(s,n==null?void 0:n.id):e.toggle(s,n==null?void 0:n.id)})}let as=1;const F=()=>""+as++;function es(s){return s&&(p(s.toastId)||b(s.toastId))?s.toastId:F()}function _(s,n){return os(s,n),n.toastId}function g(s,n){return{...n,type:n&&n.type||s,toastId:es(n)}}function m(s){return(n,e)=>_(n,g(s,e))}function a(s,n){return _(s,g("default",n))}a.loading=(s,n)=>_(s,g("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n})),a.promise=function(s,n,e){let r,{pending:o,error:t,success:l}=n;o&&(r=p(o)?a.loading(o,e):a.loading(o.render,{...e,...o}));const M={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},j=(u,w,x)=>{if(w==null)return void a.dismiss(r);const I={type:u,...M,...e,data:x},h=p(w)?{render:w}:w;return r?a.update(r,{...I,...h}):a(h.render,{...I,...h}),x},y=$(s)?s():s;return y.then(u=>j("success",l,u)).catch(u=>j("error",t,u)),y},a.success=m("success"),a.info=m("info"),a.error=m("error"),a.warning=m("warning"),a.warn=a.warning,a.dark=(s,n)=>_(s,g("default",{theme:"dark",...n})),a.dismiss=function(s){(function(n){var e;if(q()){if(n==null||p(e=n)||b(e))c.forEach(r=>{r.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){const r=c.get(n.containerId);r?r.removeToast(n.id):c.forEach(o=>{o.removeToast(n.id)})}}else v=v.filter(r=>n!=null&&r.options.toastId!==n)})(s)},a.clearWaitingQueue=function(s){s===void 0&&(s={}),c.forEach(n=>{!n.props.limit||s.containerId&&n.id!==s.containerId||n.clearQueue()})},a.isActive=ns,a.update=function(s,n){n===void 0&&(n={});const e=((r,o)=>{var t;let{containerId:l}=o;return(t=c.get(l||1))==null?void 0:t.toasts.get(r)})(s,n);if(e){const{props:r,content:o}=e,t={delay:100,...r,...n,toastId:n.toastId||s,updateId:F()};t.toastId!==s&&(t.staleId=s);const l=t.render||o;delete t.render,_(l,t)}},a.done=s=>{a.update(s,{progress:1})},a.onChange=function(s){return E.add(s),()=>{E.delete(s)}},a.play=s=>T(!0,s),a.pause=s=>T(!1,s);const rs=()=>{const s=z(),n=(o,t)=>{const l={new_password:o.new_password,confirm_new_password:o.confirm_new_password};s(S(l)).unwrap().then(()=>{}).catch(()=>{a.error("Passwords did not happen",{position:"top-right"})}),t.resetForm()},e=B().shape({new_password:N().min(8,"Too short password").max(64,"Too long password").required("Password is Required"),confirm_new_password:N().oneOf([R("new_password"),null],"Passwords must match").required("Repeat Password is Required")}),r=P.useId();return d.jsx(U,{initialValues:{new_password:"",confirm_new_password:""},validationSchema:e,onSubmit:n,children:({errors:o,touched:t})=>d.jsxs(A,{className:i.formContainer,noValidate:!0,name:"Update password",children:[d.jsx("label",{htmlFor:"new_password",className:i.label,children:"Enter new password"}),d.jsxs("div",{className:i.wrap,children:[d.jsx(k,{type:"password",name:"new_password",id:`${r}-new_password`,className:`${i.input} ${o.new_password&&t.new_password?o.new_password==="Too short password"?i.short:o.new_password==="Too long password"?i.long:o.new_password==="Password is Required"?i.required:i.invalid:t.new_password&&!o.new_password?i.valid:""}`,placeholder:"New password"}),d.jsx(C,{name:"new_password",component:"span",className:i.errorMessage})]}),d.jsx("label",{htmlFor:"confirm_new_password",className:i.label,children:"Confirm new password"}),d.jsxs("div",{className:i.wrap,children:[d.jsx(k,{type:"password",name:"confirm_new_password",id:`${r}-confirm_new_password`,className:`${i.input} ${o.confirm_new_password&&t.confirm_new_password?i.mismatch:t.confirm_new_password&&!o.confirm_new_password?i.valid:""}`,placeholder:"Confirm password",autoComplete:"new-password"}),d.jsx(C,{name:"confirm_new_password",component:"span",className:i.errorMessage})]}),d.jsx("button",{type:"submit",className:i.submitButton,children:"Save"})]})})},ts="_container_wcj4z_1",is="_container_update_wcj4z_27",ds="_background_wcj4z_37",cs="_title_wcj4z_41",ls="_link_wcj4z_47",us="_image_wcj4z_55",f={container:ts,container_update:is,background:ds,title:cs,link:ls,image:us},_s=()=>d.jsx("div",{className:f.container,children:d.jsx("div",{className:f.container_update,children:d.jsxs("div",{className:f.background,children:[d.jsx("h2",{className:f.title,children:"Update password"}),d.jsx(rs,{})]})})});export{_s as default};
//# sourceMappingURL=UpdatePasswordPage-BJqKYU2o.js.map
