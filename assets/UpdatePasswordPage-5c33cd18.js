import{r as T,u as z,c as B,a as k,b as R,j as d,F as U,d as S,e as C,E,f as A}from"./index-6f58ee08.js";const L="_formContainer_fng5q_1",O="_label_fng5q_8",V="_input_fng5q_13",Q="_error_fng5q_22",D="_wrap_fng5q_34",W="_errorMessage_fng5q_38",G="_submitButton_fng5q_44",H="_valid_fng5q_66",J="_invalid_fng5q_71",K="_short_fng5q_72",X="_long_fng5q_73",Y="_required_fng5q_74",Z="_mismatch_fng5q_75",i={formContainer:L,label:O,input:V,error:Q,wrap:D,errorMessage:W,submitButton:G,valid:H,invalid:J,short:K,long:X,required:Y,mismatch:Z},q=s=>typeof s=="number"&&!isNaN(s),p=s=>typeof s=="string",$=s=>typeof s=="function",ss=s=>T.isValidElement(s)||p(s)||$(s)||q(s),c=new Map;let b=[];const y=new Set,F=()=>c.size>0;function ns(s,n){var e;if(n)return!((e=c.get(n))==null||!e.isToastActive(s));let r=!1;return c.forEach(o=>{o.isToastActive(s)&&(r=!0)}),r}function os(s,n){ss(s)&&(F()||b.push({content:s,options:n}),c.forEach(e=>{e.buildToast(s,n)}))}function P(s,n){c.forEach(e=>{n!=null&&n!=null&&n.containerId?(n==null?void 0:n.containerId)===e.id&&e.toggle(s,n==null?void 0:n.id):e.toggle(s,n==null?void 0:n.id)})}let as=1;const M=()=>""+as++;function es(s){return s&&(p(s.toastId)||q(s.toastId))?s.toastId:M()}function _(s,n){return os(s,n),n.toastId}function g(s,n){return{...n,type:n&&n.type||s,toastId:es(n)}}function m(s){return(n,e)=>_(n,g(s,e))}function a(s,n){return _(s,g("default",n))}a.loading=(s,n)=>_(s,g("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n})),a.promise=function(s,n,e){let r,{pending:o,error:t,success:l}=n;o&&(r=p(o)?a.loading(o,e):a.loading(o.render,{...e,...o}));const h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},x=(u,w,j)=>{if(w==null)return void a.dismiss(r);const N={type:u,...h,...e,data:j},v=p(w)?{render:w}:w;return r?a.update(r,{...N,...v}):a(v.render,{...N,...v}),j},I=$(s)?s():s;return I.then(u=>x("success",l,u)).catch(u=>x("error",t,u)),I},a.success=m("success"),a.info=m("info"),a.error=m("error"),a.warning=m("warning"),a.warn=a.warning,a.dark=(s,n)=>_(s,g("default",{theme:"dark",...n})),a.dismiss=function(s){(function(n){var e;if(F()){if(n==null||p(e=n)||q(e))c.forEach(r=>{r.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){const r=c.get(n.containerId);r?r.removeToast(n.id):c.forEach(o=>{o.removeToast(n.id)})}}else b=b.filter(r=>n!=null&&r.options.toastId!==n)})(s)},a.clearWaitingQueue=function(s){s===void 0&&(s={}),c.forEach(n=>{!n.props.limit||s.containerId&&n.id!==s.containerId||n.clearQueue()})},a.isActive=ns,a.update=function(s,n){n===void 0&&(n={});const e=((r,o)=>{var t;let{containerId:l}=o;return(t=c.get(l||1))==null?void 0:t.toasts.get(r)})(s,n);if(e){const{props:r,content:o}=e,t={delay:100,...r,...n,toastId:n.toastId||s,updateId:M()};t.toastId!==s&&(t.staleId=s);const l=t.render||o;delete t.render,_(l,t)}},a.done=s=>{a.update(s,{progress:1})},a.onChange=function(s){return y.add(s),()=>{y.delete(s)}},a.play=s=>P(!0,s),a.pause=s=>P(!1,s);const rs=()=>{const s=z(),n=(o,t)=>{const l=new URLSearchParams(window.location.search).get("token"),h={password:o.new_password||o.confirm_new_password,token:l};s(A(h)).unwrap().then(()=>{}).catch(()=>{a.error("Passwords did not happen",{position:"top-right"})}),t.resetForm()},e=B().shape({new_password:k().min(8,"Too short password").max(64,"Too long password").required("Password is Required"),confirm_new_password:k().oneOf([R("new_password"),null],"Passwords must match").required("Repeat Password is Required")}),r=T.useId();return d.jsx(U,{initialValues:{new_password:"",confirm_new_password:""},validationSchema:e,onSubmit:n,children:({errors:o,touched:t})=>d.jsxs(S,{className:i.formContainer,noValidate:!0,name:"Update password",children:[d.jsx("label",{htmlFor:"new_password",className:i.label,children:"Enter new password"}),d.jsxs("div",{className:i.wrap,children:[d.jsx(C,{type:"password",name:"new_password",id:`${r}-new_password`,className:`${i.input} ${o.new_password&&t.new_password?o.new_password==="Too short password"?i.short:o.new_password==="Too long password"?i.long:o.new_password==="Password is Required"?i.required:i.invalid:t.new_password&&!o.new_password?i.valid:""}`,placeholder:"New password"}),d.jsx(E,{name:"new_password",component:"span",className:i.errorMessage})]}),d.jsx("label",{htmlFor:"confirm_new_password",className:i.label,children:"Confirm new password"}),d.jsxs("div",{className:i.wrap,children:[d.jsx(C,{type:"password",name:"confirm_new_password",id:`${r}-confirm_new_password`,className:`${i.input} ${o.confirm_new_password&&t.confirm_new_password?i.mismatch:t.confirm_new_password&&!o.confirm_new_password?i.valid:""}`,placeholder:"Confirm password",autoComplete:"new-password"}),d.jsx(E,{name:"confirm_new_password",component:"span",className:i.errorMessage})]}),d.jsx("button",{type:"submit",className:i.submitButton,children:"Save"})]})})},ts="_container_33iz9_1",is="_container_update_33iz9_14",ds="_background_33iz9_19",cs="_title_33iz9_21",ls="_link_33iz9_24",us="_image_33iz9_28",f={container:ts,container_update:is,background:ds,title:cs,link:ls,image:us},_s=()=>d.jsx("div",{className:f.container,children:d.jsx("div",{className:f.container_update,children:d.jsxs("div",{className:f.background,children:[d.jsx("h2",{className:f.title,children:"Update password"}),d.jsx(rs,{})]})})});export{_s as default};
//# sourceMappingURL=UpdatePasswordPage-5c33cd18.js.map
